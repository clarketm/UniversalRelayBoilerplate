{"version":3,"sources":["../../../units/urb-base-server/log.js"],"names":["require","load","transports","process","env","NODE_ENV","push","Console","defaultPersisterLogger","createLogger","log","Logger"],"mappings":";;AAEA,gC;;AAEA,4F;;;AAGAA,QAAQ,QAAR,EAAkBC,IAAlB;;;AAGA,GAAMC,YAAa,EAAnB;;;AAGA,GAAIC,QAAQC,GAAR,CAAYC,QAAZ,EAAwB,aAA5B,CAA2CH,WAAWI,IAAX,CAAgB,GAAI,mBAAQJ,UAAR,CAAmBK,OAAvB,EAAhB;;;AAG3C,GAAMC,wBAAyB,2BAAiBC,YAAjB,EAA/B;AACA,GAAID,sBAAJ,CAA4BN,WAAWI,IAAX,CAAgBE,sBAAhB;;;AAG5B,GAAME,KAAM,GAAI,mBAAQC,MAAZ,CAAmB,CAAET,qBAAF,CAAnB,CAAZ,C;;AAEeQ,G","file":"log.js","sourcesContent":["// @flow\n\nimport winston from 'winston'\n\nimport defaultPersister from '../_configuration/urb-base-server/graphql/defaultPersister'\n\n// Read environment\nrequire('dotenv').load()\n\n// Determine transports.\nconst transports = []\n\n// Add console when in development mode.\nif (process.env.NODE_ENV == 'development') transports.push(new winston.transports.Console())\n\n// If persister specified logger, use it\nconst defaultPersisterLogger = defaultPersister.createLogger()\nif (defaultPersisterLogger) transports.push(defaultPersisterLogger)\n\n// Create winston\nconst log = new winston.Logger({ transports })\n\nexport default log\n"]}